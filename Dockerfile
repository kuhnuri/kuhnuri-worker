FROM openjdk:8-jre-alpine

#COPY target/universal/com-elovirta-kuhnuri-worker-1.0-SNAPSHOT.zip /
#RUN unzip /com-elovirta-kuhnuri-worker-1.0-SNAPSHOT.zip -d /
#RUN rm /com-elovirta-kuhnuri-worker-1.0-SNAPSHOT.zip
#RUN chmod 755 /com-elovirta-kuhnuri-worker-1.0-SNAPSHOT/bin/com-elovirta-kuhnuri-worker
RUN mkdir -p /opt/app
COPY target/universal/stage /opt/app
RUN rm -r /opt/app/share /opt/app/bin
RUN mkdir -p /opt/workspace

EXPOSE 9000
VOLUME ["/opt/workspace"]

WORKDIR /opt/app
ENTRYPOINT ["java", "-Duser.dir=/opt/app", "-cp", "conf/:config/:lib/ant-apache-resolver-1.10.1.jar:lib/ant-launcher.jar:lib/ant.jar:lib/aopalliance.aopalliance-1.0.jar:lib/ch.qos.logback.logback-classic-1.2.1.jar:lib/ch.qos.logback.logback-core-1.2.1.jar:lib/com-elovirta-kuhnuri-worker.com-elovirta-kuhnuri-worker-1.0-SNAPSHOT-assets.jar:lib/com-elovirta-kuhnuri-worker.com-elovirta-kuhnuri-worker-1.0-SNAPSHOT-sans-externalized.jar:lib/com.fasterxml.jackson.core.jackson-annotations-2.7.8.jar:lib/com.fasterxml.jackson.core.jackson-core-2.7.8.jar:lib/com.fasterxml.jackson.core.jackson-databind-2.7.8.jar:lib/com.fasterxml.jackson.datatype.jackson-datatype-jdk8-2.7.8.jar:lib/com.fasterxml.jackson.datatype.jackson-datatype-jsr310-2.7.8.jar:lib/com.google.guava.guava-19.0.jar:lib/com.google.inject.extensions.guice-assistedinject-4.0.jar:lib/com.google.inject.guice-4.0.jar:lib/com.ibm.icu.icu4j-57.1.jar:lib/com.typesafe.akka.akka-actor_2.11-2.4.14.jar:lib/com.typesafe.akka.akka-slf4j_2.11-2.4.14.jar:lib/com.typesafe.akka.akka-stream_2.11-2.4.14.jar:lib/com.typesafe.config-1.3.1.jar:lib/com.typesafe.netty.netty-reactive-streams-1.0.8.jar:lib/com.typesafe.netty.netty-reactive-streams-http-1.0.8.jar:lib/com.typesafe.play.build-link-2.5.13.jar:lib/com.typesafe.play.filters-helpers_2.11-2.5.13.jar:lib/com.typesafe.play.play-cache_2.11-2.5.13.jar:lib/com.typesafe.play.play-datacommons_2.11-2.5.13.jar:lib/com.typesafe.play.play-exceptions-2.5.13.jar:lib/com.typesafe.play.play-functional_2.11-2.5.13.jar:lib/com.typesafe.play.play-iteratees_2.11-2.5.13.jar:lib/com.typesafe.play.play-json_2.11-2.5.13.jar:lib/com.typesafe.play.play-logback_2.11-2.5.13.jar:lib/com.typesafe.play.play-netty-server_2.11-2.5.13.jar:lib/com.typesafe.play.play-netty-utils-2.5.13.jar:lib/com.typesafe.play.play-server_2.11-2.5.13.jar:lib/com.typesafe.play.play-streams_2.11-2.5.13.jar:lib/com.typesafe.play.play-ws_2.11-2.5.13.jar:lib/com.typesafe.play.play_2.11-2.5.13.jar:lib/com.typesafe.play.twirl-api_2.11-1.1.1.jar:lib/com.typesafe.ssl-config-core_2.11-0.2.1.jar:lib/commons-codec-1.10.jar:lib/commons-codec.commons-codec-1.10.jar:lib/commons-io-2.5.jar:lib/commons-io.commons-io-2.5.jar:lib/commons-logging.commons-logging-1.2.jar:lib/dost-configuration.jar:lib/dost.jar:lib/guava-19.0.jar:lib/icu4j-57.1.jar:lib/io.netty.netty-buffer-4.0.42.Final.jar:lib/io.netty.netty-codec-4.0.42.Final.jar:lib/io.netty.netty-codec-http-4.0.42.Final.jar:lib/io.netty.netty-common-4.0.42.Final.jar:lib/io.netty.netty-handler-4.0.42.Final.jar:lib/io.netty.netty-transport-4.0.42.Final.jar:lib/io.netty.netty-transport-native-epoll-4.0.42.Final-linux-x86_64.jar:lib/javax.inject.javax.inject-1.jar:lib/javax.transaction.jta-1.1.jar:lib/joda-time.joda-time-2.9.6.jar:lib/logback-classic-1.2.1.jar:lib/logback-core-1.2.1.jar:lib/net.sf.ehcache.ehcache-core-2.6.11.jar:lib/net.sf.saxon.Saxon-HE-9.8.0-5.jar:lib/oauth.signpost.signpost-commonshttp4-1.2.1.2.jar:lib/oauth.signpost.signpost-core-1.2.1.2.jar:lib/org.apache.ant.ant-1.10.1.jar:lib/org.apache.ant.ant-apache-resolver-1.10.1.jar:lib/org.apache.ant.ant-launcher-1.10.1.jar:lib/org.apache.commons.commons-lang3-3.4.jar:lib/org.apache.httpcomponents.httpclient-4.5.2.jar:lib/org.apache.httpcomponents.httpcore-4.4.4.jar:lib/org.asynchttpclient.async-http-client-2.0.24.jar:lib/org.asynchttpclient.async-http-client-netty-utils-2.0.24.jar:lib/org.asynchttpclient.netty-codec-dns-2.0.24.jar:lib/org.asynchttpclient.netty-resolver-2.0.24.jar:lib/org.asynchttpclient.netty-resolver-dns-2.0.24.jar:lib/org.dita-ot.dost-3.0.jar:lib/org.javassist.javassist-3.21.0-GA.jar:lib/org.joda.joda-convert-1.8.1.jar:lib/org.reactivestreams.reactive-streams-1.0.0.jar:lib/org.scala-lang.modules.scala-java8-compat_2.11-0.7.0.jar:lib/org.scala-lang.modules.scala-parser-combinators_2.11-1.0.4.jar:lib/org.scala-lang.modules.scala-xml_2.11-1.0.1.jar:lib/org.scala-lang.scala-library-2.11.8.jar:lib/org.scala-lang.scala-reflect-2.11.8.jar:lib/org.scala-stm.scala-stm_2.11-0.7.jar:lib/org.slf4j.jcl-over-slf4j-1.7.21.jar:lib/org.slf4j.jul-to-slf4j-1.7.21.jar:lib/org.slf4j.slf4j-api-1.7.23.jar:lib/Saxon-HE-9.8.0-5.jar:lib/slf4j-api-1.7.23.jar:lib/xerces.xercesImpl-2.11.0.jar:lib/xercesImpl-2.11.0.jar:lib/xml-apis-1.4.01.jar:lib/xml-apis.xml-apis-1.4.01.jar:lib/xml-resolver-1.2.jar:lib/xml-resolver.xml-resolver-1.2.jar:plugins/org.dita.eclipsehelp/build/libs/eclipsehelp.jar:plugins/org.dita.eclipsehelp/lib/eclipsehelp.jar:plugins/org.dita.htmlhelp/build/libs/htmlhelp.jar:plugins/org.dita.htmlhelp/lib/htmlhelp.jar:plugins/org.dita.pdf2/lib/fo.jar:plugins/org.dita.pdf2.axf/lib/axf.jar:plugins/org.dita.pdf2.fop/lib/avalon-framework-api-4.3.1.jar:plugins/org.dita.pdf2.fop/lib/avalon-framework-impl-4.3.1.jar:plugins/org.dita.pdf2.fop/lib/batik-anim-1.9.jar:plugins/org.dita.pdf2.fop/lib/batik-awt-util-1.9.jar:plugins/org.dita.pdf2.fop/lib/batik-bridge-1.9.jar:plugins/org.dita.pdf2.fop/lib/batik-constants-1.9.jar:plugins/org.dita.pdf2.fop/lib/batik-css-1.9.jar:plugins/org.dita.pdf2.fop/lib/batik-dom-1.9.jar:plugins/org.dita.pdf2.fop/lib/batik-ext-1.9.jar:plugins/org.dita.pdf2.fop/lib/batik-extension-1.9.jar:plugins/org.dita.pdf2.fop/lib/batik-gvt-1.9.jar:plugins/org.dita.pdf2.fop/lib/batik-i18n-1.9.jar:plugins/org.dita.pdf2.fop/lib/batik-parser-1.9.jar:plugins/org.dita.pdf2.fop/lib/batik-script-1.9.jar:plugins/org.dita.pdf2.fop/lib/batik-svg-dom-1.9.jar:plugins/org.dita.pdf2.fop/lib/batik-svggen-1.9.jar:plugins/org.dita.pdf2.fop/lib/batik-transcoder-1.9.jar:plugins/org.dita.pdf2.fop/lib/batik-util-1.9.jar:plugins/org.dita.pdf2.fop/lib/batik-xml-1.9.jar:plugins/org.dita.pdf2.fop/lib/commons-logging-1.2.jar:plugins/org.dita.pdf2.fop/lib/fontbox-2.0.6.jar:plugins/org.dita.pdf2.fop/lib/fop-2.2.jar:plugins/org.dita.pdf2.fop/lib/serializer-2.7.2.jar:plugins/org.dita.pdf2.fop/lib/xml-apis-1.3.04.jar:plugins/org.dita.pdf2.fop/lib/xml-apis-ext-1.3.04.jar:plugins/org.dita.pdf2.fop/lib/xmlgraphics-commons-2.2.jar:plugins/org.dita.pdf2.xep/lib/xep.jar:plugins/org.lwdita/lib/autolink-0.6.0.jar:plugins/org.lwdita/lib/flexmark-0.26.4.jar:plugins/org.lwdita/lib/flexmark-all-0.26.4.jar:plugins/org.lwdita/lib/flexmark-ext-abbreviation-0.26.4.jar:plugins/org.lwdita/lib/flexmark-ext-anchorlink-0.26.4.jar:plugins/org.lwdita/lib/flexmark-ext-aside-0.26.4.jar:plugins/org.lwdita/lib/flexmark-ext-autolink-0.26.4.jar:plugins/org.lwdita/lib/flexmark-ext-definition-0.26.4.jar:plugins/org.lwdita/lib/flexmark-ext-emoji-0.26.4.jar:plugins/org.lwdita/lib/flexmark-ext-escaped-character-0.26.4.jar:plugins/org.lwdita/lib/flexmark-ext-footnotes-0.26.4.jar:plugins/org.lwdita/lib/flexmark-ext-gfm-issues-0.26.4.jar:plugins/org.lwdita/lib/flexmark-ext-gfm-strikethrough-0.26.4.jar:plugins/org.lwdita/lib/flexmark-ext-gfm-tables-0.26.4.jar:plugins/org.lwdita/lib/flexmark-ext-gfm-tasklist-0.26.4.jar:plugins/org.lwdita/lib/flexmark-ext-gfm-users-0.26.4.jar:plugins/org.lwdita/lib/flexmark-ext-ins-0.26.4.jar:plugins/org.lwdita/lib/flexmark-ext-jekyll-front-matter-0.26.4.jar:plugins/org.lwdita/lib/flexmark-ext-jekyll-tag-0.26.4.jar:plugins/org.lwdita/lib/flexmark-ext-superscript-0.26.4.jar:plugins/org.lwdita/lib/flexmark-ext-tables-0.26.4.jar:plugins/org.lwdita/lib/flexmark-ext-toc-0.26.4.jar:plugins/org.lwdita/lib/flexmark-ext-typographic-0.26.4.jar:plugins/org.lwdita/lib/flexmark-ext-wikilink-0.26.4.jar:plugins/org.lwdita/lib/flexmark-ext-xwiki-macros-0.26.4.jar:plugins/org.lwdita/lib/flexmark-ext-yaml-front-matter-0.26.4.jar:plugins/org.lwdita/lib/flexmark-formatter-0.26.4.jar:plugins/org.lwdita/lib/flexmark-html-parser-0.26.4.jar:plugins/org.lwdita/lib/flexmark-jira-converter-0.26.4.jar:plugins/org.lwdita/lib/flexmark-profile-pegdown-0.26.4.jar:plugins/org.lwdita/lib/flexmark-util-0.26.4.jar:plugins/org.lwdita/lib/flexmark-youtrack-converter-0.26.4.jar:plugins/org.lwdita/lib/htmlparser-1.4.jar:plugins/org.lwdita/lib/org.lwdita-2.0.jar", "play.core.server.ProdServerStart"]
